<div class="row" id="dynamic_farmer"><div id="farmer_data_charts"></div></div><div id="bar"><div id="chartContainerfarmers" style="height: 370px; max-width: 920px; margin: 0px auto;"></div> <script type="text/javascript">$(document).ready(function(){$('.farmer_text_holder').text('By Country');var registered_dataPoints=[];var chart=new CanvasJS.Chart("chartContainerfarmers",{exportEnabled:true,animationEnabled:true,title:{text:"Farmer Registration Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"#,##0.##",indexLabel:"{label} {y}",click:onClickRegion,dataPoints:registered_dataPoints}]});chart.render();function onClickRegion(e){regionCharts();} function addData(data){for(var i=0;i<data.length;i++){registered_dataPoints.push({label:"Registered Farmers",y:data[i].reg});registered_dataPoints.push({label:"Unregistered Farmers",y:data[i].target-data[i].reg});} chart.render();} $.getJSON("http://localhost:8080/farmer_api/all",addData);});</script> <div id="chartContainer_farmer" style="height: 370px; max-width: 920px; margin: 0px auto;"></div> <script type="text/javascript">$(document).ready(function(){var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_farmer",{exportEnabled:true,animationEnabled:true,title:{text:"Farmer System Onboarding"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Farmer Number",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Target Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickRegion,dataPoints:dataPoints_1},{type:"column",name:"Registered Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickRegion,dataPoints:dataPoints_2},{type:"column",name:"Active Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickRegion,dataPoints:dataPoints_3}]});chart.render();function onClickRegion(e){regionCharts();} function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:"Zambia",y:data[i].target});dataPoints_2.push({label:"Zambia",y:data[i].reg});dataPoints_3.push({label:"Zambia",y:data[i].active});} chart.render();} $.getJSON("http://localhost:8080/farmer_api/all",addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}});</script> </div> <script type="text/javascript">function regionCharts(){$('.farmer_text_holder').text('By Region');$('.farmer_bread').append('<span id="farmer_bread" onclick="load_farmer_charts();">:/County</span> ');$('.farmer_bread').replaceWith('<span id="farmer_bread" onclick="load_farmer_charts();">:/County</span> ');function addCharts(data){for(var i=0;i<data.length;i++){$('#farmer_data_charts').append('<div class="col-md-3"><div id="region_virtual'+i+'" style="height: 370px; max-width: 920px; margin: 0px auto;">tt'+i+'</div></div>');chartStructure("region_virtual"+i,i);}} $.getJSON("http://localhost:8080/region_api/all",addCharts);function chartStructure(data,loopNum){var lnum=loopNum;var lablee="";var registered_dataPoints=[];var chart=new CanvasJS.Chart(data,{exportEnabled:true,animationEnabled:true,title:{text:"Farmer Registration "+lablee+" Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"#,##0.##",indexLabel:"{label} {y}",click:onClickDistrict,dataPoints:registered_dataPoints}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){lablee=data[loopNum].name;chart.options.title.text=data[loopNum].name;if(i==loopNum){registered_dataPoints.push({label:data[loopNum].name,y:data[loopNum].freg});registered_dataPoints.push({label:data[loopNum].name,y:data[loopNum].ftarget-data[loopNum].freg});}} chart.render();} $.getJSON("http://localhost:8080/region_api/all",addData);} $("#bar").replaceWith('<div id="chartContainer_farmerbar" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>');var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_farmerbar",{exportEnabled:true,animationEnabled:true,title:{text:"Farmer System Onboarding"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Farmer Number",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Target Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickDistrict,dataPoints:dataPoints_1},{type:"column",name:"Registered Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickDistrict,dataPoints:dataPoints_2},{type:"column",name:"Active Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickDistrict,dataPoints:dataPoints_3}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:data[i].name,y:data[i].ftarget});dataPoints_2.push({label:name,y:data[i].freg});dataPoints_3.push({label:name,y:data[i].factive});} chart.render();} $.getJSON("http://localhost:8080/region_api/all",addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}}</script> <script type="text/javascript">function onClickDistrict(e){districtCharts(e.dataPoint.label);} function districtCharts(rdata=''){$('.farmer_text_holder').text('By District');function addCharts(data){for(var i=0;i<data.length;i++){$("#farmer_data_charts").replaceWith('<div id="district_farmer"></div>');$('#district_farmer').append('<div class="col-md-3"><div id="district_virtual'+i+'" style="height: 370px; max-width: 920px; margin: 0px auto;">tt'+i+'</div></div>');chartStructure("district_virtual"+i,i);}} $.getJSON("http://localhost:8080/district_api/region/"+rdata,addCharts);function chartStructure(data,loopNum){var lnum=loopNum;var lablee="";var registered_dataPoints=[];var chart=new CanvasJS.Chart(data,{exportEnabled:true,animationEnabled:true,title:{text:"Farmer Registration "+lablee+" Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"ZMW #,##0.##",indexLabel:"{label} {y}",click:onClickTown,dataPoints:registered_dataPoints}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){lablee=data[loopNum].name;chart.options.title.text=data[loopNum].name;if(i==loopNum){registered_dataPoints.push({label:data[loopNum].name,y:data[loopNum].freg});registered_dataPoints.push({label:data[loopNum].name,y:data[loopNum].ftarget-data[loopNum].freg});}} chart.render();} $.getJSON("http://localhost:8080/district_api/region/"+rdata,addData);} $("#bar").replaceWith('<div id="chartContainer_farmerbar" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>');var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_farmerbar",{exportEnabled:true,animationEnabled:true,title:{text:"Farmer System Onboarding"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Farmer Number",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Target Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickTown,dataPoints:dataPoints_1},{type:"column",name:"Registered Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickTown,dataPoints:dataPoints_2},{type:"column",name:"Active Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",click:onClickTown,dataPoints:dataPoints_3}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:data[i].name,y:data[i].ftarget});dataPoints_2.push({label:name,y:data[i].freg});dataPoints_3.push({label:name,y:data[i].factive});} chart.render();} $.getJSON("http://localhost:8080/district_api/region/"+rdata,addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}}</script> <script type="text/javascript">function onClickTown(e){townCharts(e.dataPoint.label);} function townCharts(rdata=''){$('.farmer_text_holder').text('By Town');function addCharts(data){for(var i=0;i<data.length;i++){$("#district_farmer").replaceWith('<div id="town_farmer"></div>');$('#town_farmer').append('<div class="col-md-3"><div id="town_virtual'+i+'" style="height: 370px; max-width: 920px; margin: 0px auto;">tt'+i+'</div></div>');chartStructure("town_virtual"+i,i);}} $.getJSON("http://localhost:8080/town_api/district/"+rdata,addCharts);function chartStructure(data,loopNum){var lnum=loopNum;var lablee="";var registered_dataPoints=[];var chart=new CanvasJS.Chart(data,{exportEnabled:true,animationEnabled:true,title:{text:"Farmer Registration "+lablee+" Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"ZMW #,##0.##",indexLabel:"{label} {y}",dataPoints:registered_dataPoints}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){lablee=data[loopNum].name;chart.options.title.text=data[loopNum].name;if(i==loopNum){registered_dataPoints.push({label:data[loopNum].name,y:data[loopNum].freg});registered_dataPoints.push({label:data[loopNum].name,y:data[loopNum].ftarget-data[loopNum].freg});}} chart.render();} $.getJSON("http://localhost:8080/town_api/district/"+rdata,addData);} $("#bar").replaceWith('<div id="chartContainer_farmerbar" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>');var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_farmerbar",{exportEnabled:true,animationEnabled:true,title:{text:"Farmer System Onboarding"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Farmer Number",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Target Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",dataPoints:dataPoints_1},{type:"column",name:"Registered Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",dataPoints:dataPoints_2},{type:"column",name:"Active Farmers",showInLegend:true,yValueFormatString:"#,##0.# Farmers",dataPoints:dataPoints_3}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:data[i].name,y:data[i].ftarget});dataPoints_2.push({label:name,y:data[i].freg});dataPoints_3.push({label:name,y:data[i].factive});} chart.render();} $.getJSON("http://localhost:8080/town_api/district/"+rdata,addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}}</script>