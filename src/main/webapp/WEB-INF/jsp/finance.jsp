<div class="row" id="dynamic_Finance"><div id="Finance_data_charts"></div></div><div id="Finance_bar"><div id="chartContainerfinances" style="height: 370px; max-width: 920px; margin: 0px auto;"></div> <script type="text/javascript">$(document).ready(function(){$('.finance_text_holder').text('By Country');var registered_dataPoints=[];var chart=new CanvasJS.Chart("chartContainerfinances",{exportEnabled:true,animationEnabled:true,title:{text:"Financial Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"ZMW #,##0.##",indexLabel:"{label} {y}",click:onClickFinanceRegion,dataPoints:registered_dataPoints}]});chart.render();function onClickFinanceRegion(e){financeRegionCharts();} function addData(data){for(var i=0;i<data.length;i++){registered_dataPoints.push({label:"Amount Used",y:data[i].used});registered_dataPoints.push({label:"Amount Not Used",y:data[i].given-data[i].used});} chart.render();} $.getJSON("http://localhost:8080/finances_api/all",addData);});</script> <div id="chartContainer_financial" style="height: 370px; max-width: 920px; margin: 0px auto;"></div> <script type="text/javascript">$(document).ready(function(){var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_financial",{exportEnabled:true,animationEnabled:true,title:{text:"Finances Distribution"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Amount in ZMW",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Amount Given",showInLegend:true,yValueFormatString:"ZMW #,##0.##",click:onClickFinanceRegion,dataPoints:dataPoints_1},{type:"column",name:"Amount Credited",showInLegend:true,yValueFormatString:"ZMW #,##0.##",click:onClickFinanceRegion,dataPoints:dataPoints_2},{type:"column",name:"Amount Used",showInLegend:true,yValueFormatString:"ZMW #,##0.##",click:onClickFinanceRegion,dataPoints:dataPoints_3}]});chart.render();function onClickFinanceRegion(e){financeRegionCharts();} function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:"Zambia",y:data[i].given});dataPoints_2.push({label:"Zambia",y:data[i].credited});dataPoints_3.push({label:"Zambia",y:data[i].used});} chart.render();} $.getJSON("http://localhost:8080/finances_api/all",addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}});</script> </div> <script type="text/javascript">function financeRegionCharts(){$('.finance_text_holder').text('By Region');$('.finance_bread').append('<span id="fin_bread" onclick="load_finance_charts();">:/County</span> ');$('.fin_bread').replaceWith('<span id="fin_bread" onclick="load_finance_charts();">:/County</span> ');function addCharts(data){for(var i=0;i<data.length;i++){$('#Finance_data_charts').append('<div class="col-md-3"><div id="finance_region_virtual'+i+'" style="height: 370px; max-width: 920px; margin: 0px auto;">tt'+i+'</div></div>');chartStructure("finance_region_virtual"+i,i);}} $.getJSON("http://localhost:8080/region_api/all",addCharts);function chartStructure(data,loopNum){var lnum=loopNum;var lablee="";var registered_dataPoints=[];var chart=new CanvasJS.Chart(data,{exportEnabled:true,animationEnabled:true,title:{text:"Financial Stats "+lablee+" Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"ZMW #,##0.##",indexLabel:"{label} {y}",click:onClickFinanceDistrict,dataPoints:registered_dataPoints}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){lablee=data[loopNum].name;chart.options.title.text=data[loopNum].name;if(i==loopNum){registered_dataPoints.push({label:data[loopNum].name,y:data[i].used});registered_dataPoints.push({label:data[loopNum].name,y:data[i].given-data[i].used});}} chart.render();} $.getJSON("http://localhost:8080/region_api/all",addData);} $("#Finance_bar").replaceWith('<div id="chartContainer_FinanceFinance_bar" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>');var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_FinanceFinance_bar",{exportEnabled:true,animationEnabled:true,title:{text:"Financial Distribution"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Amount ZMW",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Amount Given in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",click:onClickFinanceDistrict,dataPoints:dataPoints_1},{type:"column",name:"Amount Credited in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",click:onClickFinanceDistrict,dataPoints:dataPoints_2},{type:"column",name:"Amount Used in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",click:onClickFinanceDistrict,dataPoints:dataPoints_3}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:data[i].name,y:data[i].given});dataPoints_2.push({label:data[i].name,y:data[i].credited});dataPoints_3.push({label:data[i].name.name,y:data[i].used});} chart.render();} $.getJSON("http://localhost:8080/region_api/all",addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}}</script> <script type="text/javascript">function onClickFinanceDistrict(e){districtFinanceCharts(e.dataPoint.label);} function districtFinanceCharts(rdata=''){$('.finance_text_holder').text('By District');function addCharts(data){for(var i=0;i<data.length;i++){$("#Finance_data_charts").replaceWith('<div id="district_Finance"></div>');$('#district_Finance').append('<div class="col-md-3"><div id="district_virtual'+i+'" style="height: 370px; max-width: 920px; margin: 0px auto;">tt'+i+'</div></div>');chartStructure("district_virtual"+i,i);}} $.getJSON("http://localhost:8080/district_api/region/"+rdata,addCharts);function chartStructure(data,loopNum){var lnum=loopNum;var lablee="";var registered_dataPoints=[];var chart=new CanvasJS.Chart(data,{exportEnabled:true,animationEnabled:true,title:{text:"Financial Stats "+lablee+" Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"ZMW #,##0.##",indexLabel:"{label} {y}",click:onClickFinanceTown,dataPoints:registered_dataPoints}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){lablee=data[loopNum].name;chart.options.title.text=data[loopNum].name;if(i==loopNum){registered_dataPoints.push({label:data[loopNum].name,y:data[i].used});registered_dataPoints.push({label:data[loopNum].name,y:data[i].given-data[i].used});}} chart.render();} $.getJSON("http://localhost:8080/district_api/region/"+rdata,addData);} $("#Finance_bar").replaceWith('<div id="chartContainer_FinanceFinance_bar" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>');var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_FinanceFinance_bar",{exportEnabled:true,animationEnabled:true,title:{text:"Financial Distribution"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Amount ZMW",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Amount Given in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",click:onClickFinanceTown,dataPoints:dataPoints_1},{type:"column",name:"Amount Credited in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",click:onClickFinanceTown,dataPoints:dataPoints_2},{type:"column",name:"Amount Used in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",click:onClickFinanceTown,dataPoints:dataPoints_3}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:data[i].name,y:data[i].given});dataPoints_2.push({label:data[i].name,y:data[i].credited});dataPoints_3.push({label:data[i].name.name,y:data[i].used});} chart.render();} $.getJSON("http://localhost:8080/district_api/region/"+rdata,addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}}</script> <script type="text/javascript">function onClickFinanceTown(e){townFinanceCharts(e.dataPoint.label);} function townFinanceCharts(rdata=''){$('.finance_text_holder').text('By Town');function addCharts(data){for(var i=0;i<data.length;i++){$("#district_Finance").replaceWith('<div id="town_Finance"></div>');$('#town_Finance').append('<div class="col-md-3"><div id="town_finance_virtual'+i+'" style="height: 370px; max-width: 920px; margin: 0px auto;">tt'+i+'</div></div>');chartStructure("town_finance_virtual"+i,i);}} $.getJSON("http://localhost:8080/town_api/district/"+rdata,addCharts);function chartStructure(data,loopNum){var lnum=loopNum;var lablee="";var registered_dataPoints=[];var chart=new CanvasJS.Chart(data,{exportEnabled:true,animationEnabled:true,title:{text:"Financial Stats "+lablee+" Stats"},data:[{type:"pie",startAngle:240,yValueFormatString:"ZMW #,##0.##",indexLabel:"{label} {y}",dataPoints:registered_dataPoints}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){lablee=data[loopNum].name;chart.options.title.text=data[loopNum].name;if(i==loopNum){registered_dataPoints.push({label:data[loopNum].name,y:data[i].used});registered_dataPoints.push({label:data[loopNum].name,y:data[i].given-data[i].used});}} chart.render();} $.getJSON("http://localhost:8080/town_api/district/"+rdata,addData);} $("#Finance_bar").replaceWith('<div id="chartContainer_FinanceFinance_bar" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>');var dataPoints_1=[];var dataPoints_2=[];var dataPoints_3=[];var chart=new CanvasJS.Chart("chartContainer_FinanceFinance_bar",{exportEnabled:true,animationEnabled:true,title:{text:"Financial Distribution"},subtitles:[{text:"Click Legend to Hide or Unhide Data Series"}],axisX:{title:"Area"},axisY:{title:"Amount ZMW",titleFontColor:"#4F81BC",lineColor:"#4F81BC",labelFontColor:"#4F81BC",tickColor:"#4F81BC"},toolTip:{shared:true},legend:{cursor:"pointer",itemclick:toggleDataSeries},data:[{type:"column",name:"Amount Given in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",dataPoints:dataPoints_1},{type:"column",name:"Amount Credited in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",dataPoints:dataPoints_2},{type:"column",name:"Amount Used in ZMW",showInLegend:true,yValueFormatString:"#,##0.# ZMW",dataPoints:dataPoints_3}]});chart.render();function addData(data){for(var i=0;i<data.length;i++){dataPoints_1.push({label:data[i].name,y:data[i].given});dataPoints_2.push({label:data[i].name,y:data[i].credited});dataPoints_3.push({label:data[i].name.name,y:data[i].used});} chart.render();} $.getJSON("http://localhost:8080/town_api/district/"+rdata,addData);function toggleDataSeries(e){if(typeof(e.dataSeries.visible)==="undefined"||e.dataSeries.visible){e.dataSeries.visible=false;}else{e.dataSeries.visible=true;} e.chart.render();}}</script>